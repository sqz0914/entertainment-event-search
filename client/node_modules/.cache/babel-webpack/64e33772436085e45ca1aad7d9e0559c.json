{"ast":null,"code":"import _asyncToGenerator from \"/Users/sqz0914/Desktop/CSCI-571/hw8/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nexport class EventsSearchService {\n  constructor() {\n    this.rootURL = 'http://localhost:8080/api';\n  }\n\n  getEvents(keyword, category, radius, unit, location) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      keyword = keyword.trim().replace(/ +/g, '+');\n      location = location.split(/[ ,]+/).join('+');\n      let theURL = _this.rootURL + '/search/keyword/' + keyword + '/category/' + category + '/radius/' + radius + '/unit/' + unit + '/location/' + location;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n  getLocalEvents(keyword, category, radius, unit, lat, lng) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      keyword = keyword.trim().replace(/ +/g, '+');\n      let theURL = _this2.rootURL + '/search/keyword/' + keyword + '/category/' + category + '/radius/' + radius + '/unit/' + unit + '/lat/' + lat + '/lng/' + lng;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n  getEventDetail(eventId) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let theURL = _this3.rootURL + '/detail/event/' + eventId;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n  getArtistInfo(artist) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      artist = artist.trim().replace(/ +/g, '+');\n      let theURL = _this4.rootURL + '/detail/artist/' + artist;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n  getVenueDetail(venue) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      venue = venue.trim().replace(/ +/g, '+');\n      let theURL = _this5.rootURL + '/detail/venue/' + venue;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n  getSuggestedWord(keyword) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      keyword = keyword.trim().replace(/ +/g, '+');\n      let theURL = _this6.rootURL + '/suggest/keyword/' + keyword;\n      let result = yield axios.get(theURL);\n      return result.data;\n    })();\n  }\n\n}\n\nEventsSearchService.ɵfac = function EventsSearchService_Factory(t) {\n  return new (t || EventsSearchService)();\n};\n\nEventsSearchService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: EventsSearchService,\n  factory: EventsSearchService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/sqz0914/Desktop/CSCI-571/hw8/client/src/app/service/events-search.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport axios from 'axios';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventsSearchService {\n\n  constructor() { }\n\n  rootURL = 'http://localhost:8080/api';\n\n  async getEvents(keyword: string, category: string, radius: string, unit: string, location: string){\n    keyword = keyword.trim().replace(/ +/g, '+');\n    location = location.split(/[ ,]+/).join('+');\n    let theURL = this.rootURL + '/search/keyword/'+ keyword + '/category/' + category + '/radius/' + radius + '/unit/' + unit + '/location/' + location;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n\n  async getLocalEvents(keyword: string, category: string, radius: string, unit: string, lat: string, lng: string){\n    keyword = keyword.trim().replace(/ +/g, '+');\n    let theURL = this.rootURL + '/search/keyword/'+ keyword + '/category/' + category + '/radius/' + radius + '/unit/' + unit + '/lat/' + lat + '/lng/' + lng;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n\n  async getEventDetail(eventId: string){\n    let theURL = this.rootURL + '/detail/event/' + eventId;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n\n  async getArtistInfo(artist: string){\n    artist = artist.trim().replace(/ +/g, '+');\n    let theURL = this.rootURL + '/detail/artist/' + artist;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n\n  async getVenueDetail(venue: string){\n    venue = venue.trim().replace(/ +/g, '+');\n    let theURL = this.rootURL + '/detail/venue/' + venue;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n\n  async getSuggestedWord(keyword: string){\n    keyword = keyword.trim().replace(/ +/g, '+');\n    let theURL = this.rootURL + '/suggest/keyword/' + keyword;\n    let result = await axios.get(theURL);\n    return result.data;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}